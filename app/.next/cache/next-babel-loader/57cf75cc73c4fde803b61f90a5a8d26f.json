{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/yan/ezbot-web/app/pages/createLeave.js\";\nvar __jsx = React.createElement;\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"\\n  color: tomato;\\n  border-color: tomato;\\n  width: 80%;\\n\"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 80%;\\n  variant: contained;\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 60vw;\\n  margin: auto;\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  text-align: center;\\n  padding-top: 2em;\\n  padding-bottom: 2em;\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  background: #F7F9FA;\\n  height: 90vh;\\n  width: 80vw;\\n  margin: 5em auto;\\n  display:flex;\\n  align-items:center;\\n  justify-content:center;\\n  box-shadow: 5px 5px 5px 0px rgba(0, 0, 0, 0.4);\\n\\n  label {\\n    font-family: Candara;\\n    color: #1C2833;\\n    font-size: 1.2em;\\n    font-weight: 400;\\n  }\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  color: #F8F9F9;\\n  font-family: Candara;\\n  text-align: center;\\n  margin-bottom:-2em;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  margin: 5.5em auto;\\n  width: 80vw;\\n  height: 64vh;\\n  display:flex;\\n  align-items:center;\\n  justify-content:center;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  display: table;\\n  margin: 0 auto;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n// Render Prop\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport { TextField } from 'formik-material-ui';\nimport fetch from 'isomorphic-unfetch';\nimport Button from \"@material-ui/core/Button\";\nimport Box from \"@material-ui/core/Box\";\nimport Head from 'next/head';\nimport window from 'global';\nimport { Select } from 'material-ui-formik-components/Select';\nimport { DatePicker, MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport LuxonUtils from '@date-io/luxon';\n\nrequire(\"react-datepicker/dist/react-datepicker.css\");\n\nvar dateFormat = require('dateformat');\n\nimport Loader from 'react-loader-spinner';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Grid from '@material-ui/core/Grid';\nvar liff = window.liff;\nvar LOADERBOX = styled.div(_templateObject());\nvar BOX = styled.div(_templateObject2());\nvar TITLE = styled.h2(_templateObject3());\nvar CONTAINER = styled.div(_templateObject4());\nvar MYFORM = styled(Form)(_templateObject5());\nvar FIELD = styled(Field)(_templateObject6());\nvar BUTTON = styled(Button)(_templateObject7());\nvar TomatoButton = styled.button(_templateObject8());\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {\n      substitutes: [],\n      userId: null\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.liffInit();\n    }\n  }, {\n    key: \"liffInit\",\n    value: function liffInit() {\n      var _this2 = this;\n\n      try {\n        liff.init(function (data) {\n          var userId = data.context.userId;\n          var accessToken = liff.getAccessToken();\n          var URL_CHECKEXIST = \"https://us-central1-teddybear-dev.cloudfunctions.net/api/staff/checkExist\";\n          var body = {\n            userId: userId\n          };\n          fetch(URL_CHECKEXIST, {\n            method: 'post',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: _JSON$stringify(body)\n          }).then(function (res) {\n            return res.text();\n          }).then(function (result) {\n            if (result) {\n              _this2.setState({\n                userId: userId\n              });\n\n              _this2.lineAuth(userId, accessToken);\n            } else {\n              alert(\"請登入以查看假單\");\n              window.location.replace(\"https://teddybear-dev.firebaseapp.com/signIn\");\n            }\n          });\n        }, function (err) {\n          alert(err.message);\n        });\n      } catch (err) {\n        next(err);\n      }\n    }\n  }, {\n    key: \"lineAuth\",\n    value: function lineAuth(userId, accessToken) {\n      var _this3 = this;\n\n      try {\n        var url = \"https://us-central1-teddybear-dev.cloudfunctions.net/api/staff/lineAuth\";\n        var body = {\n          userId: userId,\n          accessToken: accessToken\n        };\n        fetch(url, {\n          method: 'post',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: _JSON$stringify(body)\n        }).then(function (res) {\n          return res.json();\n        }).then(function (result) {\n          if (result) {\n            var ubn = result.staff.ubn;\n            var department = result.staff.department;\n            var email = result.staff.email;\n            var idToken = result.token.idToken;\n\n            _this3.setState({\n              Authorization: idToken,\n              ubn: ubn,\n              email: email\n            });\n\n            _this3.getSubstitutes(ubn, department, idToken);\n          } else {\n            alert(\"lineAuth no result\");\n          }\n        })[\"catch\"](function (error) {\n          alert(error.message);\n        });\n      } catch (err) {\n        next(err);\n      }\n    }\n  }, {\n    key: \"getSubstitutes\",\n    value: function getSubstitutes(ubn, department, idToken) {\n      var _this4 = this;\n\n      try {\n        var URL_GETSUBSTITUTES = \"https://us-central1-teddybear-dev.cloudfunctions.net/api/staff/getSubstitutes\";\n        var url = URL_GETSUBSTITUTES + \"?ubn=\".concat(ubn, \"&query=department&value=\").concat(department);\n        var header = {\n          Authorization: idToken\n        };\n        fetch(url, {\n          method: 'get',\n          headers: header\n        }).then(function (res) {\n          return res.json();\n        }).then(function (result) {\n          if (result) {\n            _this4.createOptions(result.list);\n          } else {\n            alert(\"getSubstitutes no result\");\n          }\n        })[\"catch\"](function (error) {\n          alert(error.message);\n        });\n      } catch (err) {\n        next(err);\n      }\n    }\n  }, {\n    key: \"createOptions\",\n    value: function createOptions(arr) {\n      try {\n        var newList = [];\n\n        for (var i = 0; i < arr.length; i++) {\n          var obj = arr[i];\n          obj.value = _JSON$stringify({\n            \"name\": obj.name,\n            \"email\": obj.email\n          });\n          obj.label = obj.name;\n          delete obj.email;\n          delete obj.name; //push to list\n\n          newList.push(obj); // set substitutes\n\n          if (i == arr.length - 1) {\n            this.setState({\n              substitutes: newList\n            });\n          }\n        }\n      } catch (err) {\n        next(err);\n      }\n    }\n  }, {\n    key: \"submitForm\",\n    value: function submitForm(values) {\n      try {\n        var URL_CREATELEAVE = \"https://us-central1-teddybear-dev.cloudfunctions.net/api/leave/create\";\n        fetch(URL_CREATELEAVE, {\n          method: 'post',\n          headers: {\n            \"Authorization\": this.state.Authorization,\n            \"ubn\": this.state.ubn,\n            \"userId\": this.state.userId,\n            \"Content-Type\": \"application/json\"\n          },\n          body: _JSON$stringify(values)\n        }).then(function (res) {\n          return res.text();\n        }).then(function (result) {\n          if (result) {\n            liff.closeWindow();\n          } else {\n            alert(\"submitForm error\");\n          }\n        })[\"catch\"](function (error) {\n          alert(error.message);\n        });\n      } catch (err) {\n        next(err);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      return __jsx(BOX, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, __jsx(Head, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, __jsx(\"script\", {\n        src: \"https://d.line-scdn.net/liff/1.0/sdk.js\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      })), __jsx(\"body\", {\n        style: {\n          background: '#34495E'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, __jsx(BOX, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, __jsx(Formik, {\n        initialValues: {\n          startDate: dateFormat(new Date(), \"yyyy-mm-dd\"),\n          endDate: dateFormat(new Date(), \"yyyy-mm-dd\"),\n          leaveType: '',\n          leaveReason: '',\n          substitute: ''\n        },\n        validate: function validate(values) {\n          var errors = {}; // check for startDate\n\n          if (!values.startDate) {\n            errors.startDate = 'Required';\n          } // check for endDate\n\n\n          if (!values.endDate) {\n            errors.endDate = 'Required';\n          } // check for leaveType\n\n\n          if (!values.leaveType) {\n            errors.leaveType = 'Required';\n          } // check for leaveReason\n\n\n          if (!values.leaveReason) {\n            errors.leaveReason = 'Required';\n          } // check for substitute\n\n\n          if (!values.substitute) {\n            errors.substitute = 'Required';\n          }\n\n          return errors;\n        },\n        onSubmit: function onSubmit(values, _ref) {\n          var setSubmitting = _ref.setSubmitting;\n          values.email = _this5.state.email;\n\n          _this5.submitForm(values);\n\n          setSubmitting(false); //console.log('submitting', values);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, function (_ref2) {\n        var isSubmitting = _ref2.isSubmitting,\n            values = _ref2.values,\n            setFieldValue = _ref2.setFieldValue;\n        return __jsx(CONTAINER, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 294\n          },\n          __self: this\n        }, _this5.state.substitutes.length ? __jsx(MYFORM, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 296\n          },\n          __self: this\n        }, __jsx(MuiPickersUtilsProvider, {\n          utils: LuxonUtils,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 297\n          },\n          __self: this\n        }, __jsx(DatePicker, {\n          style: {\n            width: \"60vw\"\n          },\n          name: \"startDate\",\n          label: \"\\u958B\\u59CB\\u65E5\\u671F\",\n          format: \"yyyy-MM-dd\",\n          value: values.startDate,\n          onChange: function onChange(date) {\n            return setFieldValue('startDate', dateFormat(date, \"yyyy-mm-dd\"));\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 298\n          },\n          __self: this\n        })), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 305\n          },\n          __self: this\n        }), __jsx(MuiPickersUtilsProvider, {\n          utils: LuxonUtils,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 308\n          },\n          __self: this\n        }, __jsx(DatePicker, {\n          style: {\n            width: \"60vw\"\n          },\n          name: \"endDate\",\n          label: \"\\u7D50\\u675F\\u65E5\\u671F\",\n          format: \"yyyy-MM-dd\",\n          value: values.endDate,\n          onChange: function onChange(date) {\n            return setFieldValue('endDate', dateFormat(date, \"yyyy-mm-dd\"));\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 309\n          },\n          __self: this\n        })), __jsx(\"div\", {\n          style: {\n            width: \"60vw\",\n            margin: 'auto'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 316\n          },\n          __self: this\n        }, __jsx(Field, {\n          type: \"leaveType\",\n          name: \"leaveType\",\n          label: \"\\u5047\\u52E4\\u985E\\u5225\",\n          options: [{\n            value: '病假',\n            label: '病假'\n          }, {\n            value: '事假',\n            label: '事假'\n          }, {\n            value: '喪假',\n            label: '喪假'\n          }, {\n            value: '公假',\n            label: '公假'\n          }, {\n            value: '生理假',\n            label: '生理假'\n          }, {\n            value: '婚假',\n            label: '婚假'\n          }, {\n            value: '產假',\n            label: '產假'\n          }, {\n            value: '陪產假',\n            label: '陪產假'\n          }],\n          component: Select,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 317\n          },\n          __self: this\n        })), __jsx(FIELD, {\n          type: \"leaveReason\",\n          name: \"leaveReason\",\n          label: \"\\u5047\\u52E4\\u4E8B\\u7531\",\n          component: TextField,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 335\n          },\n          __self: this\n        }), __jsx(\"div\", {\n          style: {\n            width: \"60vw\",\n            margin: 'auto'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 342\n          },\n          __self: this\n        }, __jsx(Field, {\n          type: \"substitute\",\n          name: \"substitute\",\n          label: \"\\u8077\\u52D9\\u4EE3\\u7406\\u4EBA\",\n          options: _this5.state.substitutes,\n          component: Select,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 343\n          },\n          __self: this\n        })), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 352\n          },\n          __self: this\n        }), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 353\n          },\n          __self: this\n        }), __jsx(BUTTON, {\n          type: \"submit\",\n          fontFamily: \"Candara\",\n          variant: \"contained\",\n          color: \"secondary\",\n          disabled: isSubmitting,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 355\n          },\n          __self: this\n        }, \"\\u9001\\u51FA\\u5047\\u55AE\")) : __jsx(LOADERBOX, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 367\n          },\n          __self: this\n        }, __jsx(Loader, {\n          type: \"ThreeDots\",\n          color: \"#f50057\",\n          height: 80,\n          width: 80,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 368\n          },\n          __self: this\n        })));\n      }))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport { App as default };","map":{"version":3,"sources":["/Users/yan/ezbot-web/app/pages/createLeave.js"],"names":["React","Component","styled","Formik","Form","Field","ErrorMessage","TextField","fetch","Button","Box","Head","window","Select","DatePicker","MuiPickersUtilsProvider","LuxonUtils","require","dateFormat","Loader","Grid","liff","LOADERBOX","div","BOX","TITLE","h2","CONTAINER","MYFORM","FIELD","BUTTON","TomatoButton","button","App","props","state","substitutes","userId","liffInit","init","data","context","accessToken","getAccessToken","URL_CHECKEXIST","body","method","headers","then","res","text","result","setState","lineAuth","alert","location","replace","err","message","next","url","json","ubn","staff","department","email","idToken","token","Authorization","getSubstitutes","error","URL_GETSUBSTITUTES","header","createOptions","list","arr","newList","i","length","obj","value","name","label","push","values","URL_CREATELEAVE","closeWindow","background","startDate","Date","endDate","leaveType","leaveReason","substitute","errors","setSubmitting","submitForm","isSubmitting","setFieldValue","width","date","margin"],"mappings":"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","sourcesContent":["// Render Prop\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport { TextField } from 'formik-material-ui';\nimport fetch from 'isomorphic-unfetch';\nimport Button from \"@material-ui/core/Button\";\nimport Box from \"@material-ui/core/Box\";\nimport Head from 'next/head';\nimport window from 'global';\nimport { Select } from 'material-ui-formik-components/Select';\nimport {\n  DatePicker,\n  MuiPickersUtilsProvider,\n} from '@material-ui/pickers';\nimport LuxonUtils from '@date-io/luxon';\nrequire( \"react-datepicker/dist/react-datepicker.css\");\nvar dateFormat = require('dateformat');\nimport Loader from 'react-loader-spinner'\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\"\nimport Grid from '@material-ui/core/Grid';\n\nconst liff = window.liff;\nconst LOADERBOX = styled.div`\n  display: table;\n  margin: 0 auto;\n`;\nconst BOX = styled.div`\n  margin: 5.5em auto;\n  width: 80vw;\n  height: 64vh;\n  display:flex;\n  align-items:center;\n  justify-content:center;\n`;\nconst TITLE = styled.h2`\n  color: #F8F9F9;\n  font-family: Candara;\n  text-align: center;\n  margin-bottom:-2em;\n`;\nconst CONTAINER = styled.div`\n  background: #F7F9FA;\n  height: 90vh;\n  width: 80vw;\n  margin: 5em auto;\n  display:flex;\n  align-items:center;\n  justify-content:center;\n  box-shadow: 5px 5px 5px 0px rgba(0, 0, 0, 0.4);\n\n  label {\n    font-family: Candara;\n    color: #1C2833;\n    font-size: 1.2em;\n    font-weight: 400;\n  }\n`;\nconst MYFORM = styled(Form)`\n  text-align: center;\n  padding-top: 2em;\n  padding-bottom: 2em;\n`;\nconst FIELD = styled(Field)`\n  width: 60vw;\n  margin: auto;\n`;\nconst BUTTON = styled(Button)`\n  width: 80%;\n  variant: contained;\n`;\nconst TomatoButton = styled.button`\n  color: tomato;\n  border-color: tomato;\n  width: 80%;\n`;\n\n\nexport default class App extends Component {\n    constructor(props) {\n      super(props);\n  \n      this.state = {\n        substitutes : [],\n        userId : null\n      };\n    }\n\n    componentDidMount() {\n      this.liffInit();\n    }\n  \n    liffInit() {\n      try {\n        liff.init(data => {\n          const userId = data.context.userId;\n          const accessToken = liff.getAccessToken();\n          const URL_CHECKEXIST = \"https://us-central1-teddybear-dev.cloudfunctions.net/api/staff/checkExist\";\n          const body = {\n            userId: userId\n          };\n          fetch(URL_CHECKEXIST, {\n            method: 'post',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(body)\n          }).then((res) => {\n            return res.text();\n          }).then(result => {\n            if (result) {\n                this.setState({\n                  userId: userId\n              })\n              this.lineAuth(userId, accessToken);\n            } else {\n                alert(\"請登入以查看假單\");\n                window.location.replace(\"https://teddybear-dev.firebaseapp.com/signIn\");\n            }\n          })\n        }, err => {\n          alert(err.message);\n        });\n      } catch (err) {\n        next(err);\n      }\n    }\n    \n    lineAuth (userId, accessToken)  {\n      try {\n        const url = \"https://us-central1-teddybear-dev.cloudfunctions.net/api/staff/lineAuth\";\n        const body = {\n            userId: userId,\n            accessToken: accessToken\n          };\n        fetch(url, {\n          method: 'post',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(body)\n        }).then((res) => {\n          return res.json();\n        }).then(result => {\n          if (result) {\n            const ubn = result.staff.ubn;\n            const department = result.staff.department;\n            const email = result.staff.email;\n            const idToken = result.token.idToken;\n            this.setState({\n              Authorization: idToken,\n              ubn: ubn,\n              email: email\n            })\n            this.getSubstitutes(ubn, department, idToken);\n          } else {\n              alert(\"lineAuth no result\");\n          }\n        }).catch(function (error) {\n          alert(error.message);\n        })\n      } catch (err) {\n        next(err);\n      }\n    }\n  \n    getSubstitutes (ubn, department, idToken) {\n      try {\n        const URL_GETSUBSTITUTES = \"https://us-central1-teddybear-dev.cloudfunctions.net/api/staff/getSubstitutes\";\n        const url = URL_GETSUBSTITUTES + `?ubn=${ubn}&query=department&value=${department}`; \n        const header = {\n            Authorization: idToken\n          };\n\n        fetch(url, {\n            method: 'get',\n            headers: header\n          }).then((res) => {\n            return res.json();\n          }).then(result => {\n            if (result) {\n              this.createOptions(result.list)\n            } else {\n                alert(\"getSubstitutes no result\");\n      \n            }\n          }).catch(function (error) {\n            alert(error.message);\n          })\n        } catch (err) {\n          next(err);\n        }\n      }\n  \n    createOptions (arr) {\n      try {\n        var newList = [];\n        for (var i = 0; i < arr.length; i++) {\n          var obj = arr[i];\n          obj.value = JSON.stringify({\n            \"name\": obj.name,\n            \"email\": obj.email\n          });\n          obj.label = obj.name;\n          delete obj.email;\n          delete obj.name;\n          //push to list\n          newList.push(obj);\n          // set substitutes\n          if(i == arr.length-1) {\n            this.setState({\n                substitutes: newList\n            })\n          }\n        }\n      } catch (err) {\n        next(err);\n      }\n    }\n    \n    submitForm (values) {\n      try {\n        const URL_CREATELEAVE = \"https://us-central1-teddybear-dev.cloudfunctions.net/api/leave/create\";\n        fetch(URL_CREATELEAVE, {\n          method: 'post',\n          headers: {\n            \"Authorization\": this.state.Authorization,\n            \"ubn\": this.state.ubn,\n            \"userId\": this.state.userId,\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify(values)\n        }).then((res) => {\n          return res.text();\n        }).then(result => {\n          if (result) {\n            liff.closeWindow();\n          } else {\n              alert(\"submitForm error\");\n          }\n        }).catch(function (error) {\n          alert(error.message);\n        })\n      } catch (err) {\n        next(err);\n      }\n    }\n  \n    render() {\n      return (\n        <BOX>\n          <Head>\n            <script src=\"https://d.line-scdn.net/liff/1.0/sdk.js\"></script>\n          </Head>\n          <body style={{background:'#34495E'}}>\n            <BOX>\n              <Formik\n                initialValues={{ startDate: dateFormat(new Date(), \"yyyy-mm-dd\"), endDate: dateFormat(new Date(), \"yyyy-mm-dd\"), leaveType: '', leaveReason: '', substitute: '' }}\n                validate={values => {\n                  const errors = {};\n                  // check for startDate\n                  if (!values.startDate) {\n                    errors.startDate = 'Required';\n                  }\n                  // check for endDate\n                  if (!values.endDate) {\n                    errors.endDate = 'Required';\n                  } \n                  // check for leaveType\n                  if (!values.leaveType) {\n                    errors.leaveType = 'Required';\n                  }\n                  // check for leaveReason\n                  if (!values.leaveReason) {\n                      errors.leaveReason = 'Required';\n                  }\n                  \n                  // check for substitute\n                  if (!values.substitute) {\n                      errors.substitute = 'Required';\n                  }\n                  \n                  return errors;\n                  \n                }}\n                onSubmit={(values, { setSubmitting }) => {\n                  values.email = this.state.email;\n                  this.submitForm(values);\n                    setSubmitting(false);\n                  //console.log('submitting', values);\n                }}\n              >\n              {({ isSubmitting, values, setFieldValue}) => (\n                <CONTAINER>\n                  {this.state.substitutes.length ?\n                    <MYFORM>\n                      <MuiPickersUtilsProvider utils={LuxonUtils}>\n                        <DatePicker \n                          style={{ width: \"60vw\" }}  \n                          name=\"startDate\" label = \"開始日期\" \n                          format=\"yyyy-MM-dd\" value={values.startDate} \n                          onChange={date => setFieldValue('startDate', dateFormat(date, \"yyyy-mm-dd\"))}/>\n                      </MuiPickersUtilsProvider>\n\n                      <br></br>\n\n\n                      <MuiPickersUtilsProvider utils={LuxonUtils}>\n                        <DatePicker \n                          style={{ width: \"60vw\" }} \n                          name=\"endDate\" label = \"結束日期\" \n                          format=\"yyyy-MM-dd\" value={values.endDate} \n                          onChange={date => setFieldValue('endDate', dateFormat(date, \"yyyy-mm-dd\"))} />\n                      </MuiPickersUtilsProvider>\n\n                      <div style={{ width: \"60vw\" , margin: 'auto'}}>\n                        <Field\n                          type=\"leaveType\"\n                          name=\"leaveType\"\n                          label=\"假勤類別\"\n                          options={[\n                            { value: '病假', label: '病假' },\n                            { value: '事假', label: '事假' },\n                            { value: '喪假', label: '喪假' },\n                            { value: '公假', label: '公假' },\n                            { value: '生理假', label: '生理假' },\n                            { value: '婚假', label: '婚假' },\n                            { value: '產假', label: '產假' },\n                            { value: '陪產假', label: '陪產假' }\n                          ]}\n                          component={Select}\n                        />\n                      </div>\n\n                      <FIELD \n                        type=\"leaveReason\" \n                        name=\"leaveReason\" \n                        label = \"假勤事由\" \n                        component = { TextField }\n                      />\n                      \n                      <div style={{ width: \"60vw\" , margin: 'auto'}}>\n                        <Field\n                          type=\"substitute\"\n                          name=\"substitute\"\n                          label=\"職務代理人\"\n                          options={this.state.substitutes}\n                          component={Select}\n                        />\n                      </div>\n\n                      <br></br>\n                      <br></br>\n\n                      <BUTTON\n                        type=\"submit\"\n                        fontFamily= \"Candara\"\n                        variant=\"contained\"\n                        color=\"secondary\"\n                        disabled={isSubmitting}\n                      >\n                      送出假單\n                      </BUTTON>\n                      \n                    </MYFORM> :\n                  \n                    <LOADERBOX>\n                      <Loader type=\"ThreeDots\" color=\"#f50057\" height={80} width={80} />\n                    </LOADERBOX>\n                  }\n                </CONTAINER>\n              )}\n              </Formik>\n            </BOX>\n          </body>\n        </BOX>   \n      );\n    }\n  }"]},"metadata":{},"sourceType":"module"}