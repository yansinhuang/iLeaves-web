{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports[\"default\"] = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs2/regenerator\"));\n\nvar _stringify = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/json/stringify\"));\n\nvar _taggedTemplateLiteral2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nrequire(\"element-theme-default\");\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _formik = require(\"formik\");\n\nvar _formikMaterialUi = require(\"formik-material-ui\");\n\nvar _isomorphicUnfetch = _interopRequireDefault(require(\"isomorphic-unfetch\"));\n\nvar _Button = _interopRequireDefault(require(\"@material-ui/core/Button\"));\n\nvar _Box = _interopRequireDefault(require(\"@material-ui/core/Box\"));\n\nvar _icon = _interopRequireDefault(require(\"../components/image/icon.png\"));\n\nvar _head = _interopRequireDefault(require(\"next/head\"));\n\nvar _global = _interopRequireDefault(require(\"global\"));\n\nvar _jsxFileName = \"/Users/yan/ezbot-web/app/pages/signIn.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _templateObject8() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  color: tomato;\\n  border-color: tomato;\\n  width: 80%;\\n\"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  width: 80%;\\n  variant: contained;\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  width: 80%;\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  text-align: center;\\n  padding-top: 2em;\\n  padding-bottom: 2em;\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  background: #F7F9FA;\\n  height: auto;\\n  width: 90%;\\n  margin: 5em auto;\\n  box-shadow: 5px 5px 5px 0px rgba(0, 0, 0, 0.4);\\n\\n  label {\\n    font-family: Candara;\\n    color: #1C2833;\\n    font-size: 1.2em;\\n    font-weight: 400;\\n  }\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  color: #F8F9F9;\\n  font-family: Candara;\\n  text-align: center;\\n  margin-bottom:-2em;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  width: 50%;\\n  display: block;\\n  margin-top: 2em;\\n  margin-left: auto;\\n  margin-right: auto;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  margin: 5.5em auto;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nvar path = require('path'); //const webpack = require('webpack');\n\n\nmodule.exports = {\n  module: {\n    rules: [{\n      test: /\\.css$/,\n      loader: \"style-loader!css-loader\"\n    }, {\n      test: /\\.(eot|woff|woff2|ttf)([\\\\?]?.*)$/,\n      loader: \"file-loader\"\n    }]\n  }\n};\nvar liff = _global[\"default\"].liff;\n\nvar BOX = _styledComponents[\"default\"].div(_templateObject());\n\nvar AppLogo = _styledComponents[\"default\"].img(_templateObject2());\n\nvar TITLE = _styledComponents[\"default\"].h2(_templateObject3());\n\nvar CONTAINER = _styledComponents[\"default\"].div(_templateObject4());\n\nvar MYFORM = (0, _styledComponents[\"default\"])(_formik.Form)(_templateObject5());\nvar FIELD = (0, _styledComponents[\"default\"])(_formik.Field)(_templateObject6());\nvar BUTTON = (0, _styledComponents[\"default\"])(_Button[\"default\"])(_templateObject7());\n\nvar TomatoButton = _styledComponents[\"default\"].button(_templateObject8());\n\nvar userId;\n\nfunction submitForm(data, userId) {\n  data.userId = userId;\n  (0, _isomorphicUnfetch[\"default\"])('https://us-central1-teddybear-dev.cloudfunctions.net/api/staff/signIn', {\n    method: 'post',\n    headers: {\n      'Accept': 'application/json, text/plain, */*',\n      'Content-Type': 'application/json'\n    },\n    body: (0, _stringify[\"default\"])(data)\n  }).then(function (res) {\n    //res.status === 200 ? this.setState({ submitted: true }) : '';\n    if (res.ok) {\n      return res.text();\n    }\n\n    throw new Error('Sign in Error');\n  }).then(function (result) {\n    document.write(\"Sign In Successfully\"); //alert(\"Sign In Successfully\")\n  })[\"catch\"](function (error) {\n    alert(error.message);\n  });\n}\n\nvar liffInit = function liffInit() {\n  return _regenerator[\"default\"].async(function liffInit$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          liff.init(function (data) {\n            // save userId\n            //const userId = data.context.userId;\n            userId = data.context.userId; //alert(\"success\");\n            //alert(userId);\n\n            var URL_CHECKEXIST = \"https://us-central1-teddybear-dev.cloudfunctions.net/api/staff/checkExist\";\n            var body = {\n              userId: userId\n            };\n            (0, _isomorphicUnfetch[\"default\"])(URL_CHECKEXIST, {\n              method: 'post',\n              headers: {\n                'Content-Type': 'application/json'\n              },\n              body: (0, _stringify[\"default\"])(body)\n            }).then(function (res) {\n              return res.text();\n            }).then(function (result) {\n              if (result) {\n                document.write(\"Already connected\"); //liff.closeWindow();\n              }\n            });\n          }, function (err) {\n            alert(\"error\");\n          });\n\n        case 1:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  });\n};\n\nliffInit();\n\nvar Basic = function Basic() {\n  return __jsx(BOX, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, __jsx(_head[\"default\"], {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, __jsx(\"script\", {\n    src: \"https://d.line-scdn.net/liff/1.0/sdk.js\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  })), __jsx(\"body\", {\n    style: {\n      background: '#34495E'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, __jsx(BOX, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, __jsx(AppLogo, {\n    src: _icon[\"default\"],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }), __jsx(TITLE, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, \"Welcome to Teddy Bear!\"), __jsx(_formik.Formik, {\n    initialValues: {\n      ubn: '',\n      email: '',\n      password: ''\n    },\n    validate: function validate(values) {\n      var errors = {}; // check for ubn\n\n      if (!values.ubn) {\n        errors.ubn = 'Required';\n      } // check for email\n\n\n      if (!values.email) {\n        errors.email = 'Required';\n      } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)) {\n        errors.email = 'Invalid email address';\n      } // check for password\n\n\n      if (!values.password) {\n        errors.password = 'Required';\n      }\n\n      return errors;\n    },\n    onSubmit: function onSubmit(values, _ref) {\n      var setSubmitting = _ref.setSubmitting;\n      //submitForm(values, userId);\n      setTimeout(function () {\n        submitForm(values, userId);\n        setSubmitting(false);\n      }, 400); //console.log('submitting', values);\n      //setSubmitting(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, function (_ref2) {\n    var isSubmitting = _ref2.isSubmitting;\n    return __jsx(CONTAINER, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, __jsx(MYFORM, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, __jsx(FIELD, {\n      type: \"ubn\",\n      name: \"ubn\",\n      label: \"UBN\",\n      component: _formikMaterialUi.TextField,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }), __jsx(FIELD, {\n      type: \"email\",\n      name: \"email\",\n      label: \"Email\",\n      component: _formikMaterialUi.TextField,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }), __jsx(FIELD, {\n      type: \"password\",\n      name: \"password\",\n      label: \"Password\",\n      component: _formikMaterialUi.TextField,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }), __jsx(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }), __jsx(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }), __jsx(BUTTON, {\n      type: \"submit\",\n      fontFamily: \"Candara\",\n      variant: \"contained\",\n      color: \"secondary\",\n      disabled: isSubmitting,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, \"Sign In\")));\n  }))));\n};\n\nvar _default = Basic;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/yan/ezbot-web/app/pages/signIn.js"],"names":["path","require","module","exports","rules","test","loader","liff","window","BOX","styled","div","AppLogo","img","TITLE","h2","CONTAINER","MYFORM","Form","FIELD","Field","BUTTON","Button","TomatoButton","button","userId","submitForm","data","method","headers","body","then","res","ok","text","Error","result","document","write","error","alert","message","liffInit","init","context","URL_CHECKEXIST","err","Basic","background","icon","ubn","email","password","values","errors","setSubmitting","setTimeout","isSubmitting","TextField"],"mappings":"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","sourcesContent":["// Render Prop\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n//import { Button } from 'element-react';\nimport 'element-theme-default';\nimport styled from 'styled-components';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport { TextField } from 'formik-material-ui';\nimport fetch from 'isomorphic-unfetch';\nimport Button from \"@material-ui/core/Button\";\nimport Box from \"@material-ui/core/Box\";\nimport icon from '../components/image/icon.png';\nimport Head from 'next/head';\nimport window from 'global'\nconst path = require('path');\n//const webpack = require('webpack');\n\nmodule.exports = {\n  module: {\n    rules: [\n      {\n\n        test: /\\.css$/,\n\n        loader: \"style-loader!css-loader\"\n\n},\n\n{\n\n        test: /\\.(eot|woff|woff2|ttf)([\\\\?]?.*)$/,\n\n        loader: \"file-loader\"\n\n},\n    ]\n  }\n};\nconst liff = window.liff;\nconst BOX = styled.div`\n  margin: 5.5em auto;\n`;\nconst AppLogo = styled.img`\n  width: 50%;\n  display: block;\n  margin-top: 2em;\n  margin-left: auto;\n  margin-right: auto;\n`;\nconst TITLE = styled.h2`\n  color: #F8F9F9;\n  font-family: Candara;\n  text-align: center;\n  margin-bottom:-2em;\n`;\nconst CONTAINER = styled.div`\n  background: #F7F9FA;\n  height: auto;\n  width: 90%;\n  margin: 5em auto;\n  box-shadow: 5px 5px 5px 0px rgba(0, 0, 0, 0.4);\n\n  label {\n    font-family: Candara;\n    color: #1C2833;\n    font-size: 1.2em;\n    font-weight: 400;\n  }\n`;\nconst MYFORM = styled(Form)`\n  text-align: center;\n  padding-top: 2em;\n  padding-bottom: 2em;\n`;\nconst FIELD = styled(Field)`\n  width: 80%;\n`;\nconst BUTTON = styled(Button)`\n  width: 80%;\n  variant: contained;\n`;\nconst TomatoButton = styled.button`\n  color: tomato;\n  border-color: tomato;\n  width: 80%;\n`;\nvar userId;\n\nfunction submitForm (data, userId) {\n  data.userId = userId;\n  fetch('https://us-central1-teddybear-dev.cloudfunctions.net/api/staff/signIn', {\n    method: 'post',\n    headers: {\n      'Accept': 'application/json, text/plain, */*',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(data)\n  }).then((res) => {\n    //res.status === 200 ? this.setState({ submitted: true }) : '';\n    if(res.ok) {\n      return res.text();\n    }\n    throw new Error('Sign in Error');\n  }).then(result => {\n    document.write(\"Sign In Successfully\");\n    //alert(\"Sign In Successfully\")\n  }).catch(function (error) {\n    alert(error.message);\n  })\n}\n\nconst liffInit = async () => {\n  liff.init(data => {\n    // save userId\n    //const userId = data.context.userId;\n    userId = data.context.userId;\n    //alert(\"success\");\n    //alert(userId);\n    const URL_CHECKEXIST = \"https://us-central1-teddybear-dev.cloudfunctions.net/api/staff/checkExist\";\n    const body = {\n      userId: userId\n    };\n    fetch(URL_CHECKEXIST, {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(body)\n    }).then((res) => {\n      return res.text();\n    }).then(result => {\n      if (result) {\n        document.write(\"Already connected\"); //liff.closeWindow();\n      }\n    })\n    \n\n  }, err => {\n    alert(\"error\");\n  });\n}\nliffInit();\nconst Basic = () => (\n  <BOX>\n  <Head>\n    <script src=\"https://d.line-scdn.net/liff/1.0/sdk.js\"></script>\n  </Head>\n  <body style={{background:'#34495E'}}>\n    <BOX>\n      <AppLogo src={icon}/>\n      <TITLE>Welcome to Teddy Bear!</TITLE>\n      <Formik\n        initialValues={{ ubn: '', email: '', password: '' }}\n        validate={values => {\n          const errors = {};\n          // check for ubn\n          if (!values.ubn) {\n            errors.ubn = 'Required';\n          }\n          // check for email\n          if (!values.email) {\n            errors.email = 'Required';\n          } else if (\n            !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)\n          ) {\n            errors.email = 'Invalid email address';\n          }\n          // check for password\n          if (!values.password) {\n            errors.password = 'Required';\n          }\n          return errors;\n        }}\n        onSubmit={(values, { setSubmitting }) => {\n          //submitForm(values, userId);\n\n          setTimeout(() => {\n            submitForm(values, userId);\n            setSubmitting(false);\n          }, 400);\n          \n          //console.log('submitting', values);\n          //setSubmitting(false);\n        }}\n      >\n        {({ isSubmitting }) => (\n          <CONTAINER>\n          <MYFORM>\n            <FIELD type=\"ubn\" name=\"ubn\" label = \"UBN\" component = { TextField }/>\n            <FIELD type=\"email\" name=\"email\" label = \"Email\" component = { TextField }/>\n            <FIELD type=\"password\" name=\"password\" label = \"Password\" component = { TextField }/>\n            <br></br>\n            <br></br>\n            <BUTTON\n            type=\"submit\"\n            fontFamily= \"Candara\"\n            variant=\"contained\"\n            color=\"secondary\"\n            disabled={isSubmitting}\n          >\n            Sign In\n          </BUTTON>\n          </MYFORM>\n          </CONTAINER>\n        )}\n      </Formik>\n    </BOX>\n  </body>\n  </BOX>\n  \n);\n\n\nexport default Basic;"]},"metadata":{},"sourceType":"script"}