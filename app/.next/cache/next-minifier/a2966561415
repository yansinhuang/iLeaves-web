{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{CDRK:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/viewLeave\",function(){return t(\"cty3\")}])},cty3:function(e,n,t){\"use strict\";t.r(n);var r=t(\"ln6h\"),o=t.n(r),u=t(\"9Jkg\"),i=t.n(u),l=t(\"rt45\"),s=t(\"8Kt/\"),a=t.n(s),c=t(\"vOnD\"),d=t(\"q1tI\"),f=t.n(d);function g(){return(g=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function m(e,n){if(null==e)return{};var t,r,o={},u=Object.keys(e);for(r=0;r<u.length;r++)t=u[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}var p={init:\"init\"},h={Cell:function(e){var n=e.cell.value;return void 0===n?\"\":n},width:150,minWidth:0,maxWidth:Number.MAX_SAFE_INTEGER};function v(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.reduce((function(e,n){var t=n.style,r=n.className;return e=g({},e,{},m(n,[\"style\",\"className\"])),t&&(e.style=e.style?g({},e.style||{},{},t||{}):t),r&&(e.className=e.className?e.className+\" \"+r:r),\"\"===e.className&&delete e.className,e}),{})}var C=function(e,n){return void 0===n&&(n={}),function(t){return void 0===t&&(t={}),[].concat(e,[t]).reduce((function(e,r){return function e(n,t,r){return\"function\"===typeof t?e({},t(n,r)):Array.isArray(t)?v.apply(void 0,[n].concat(t)):v(n,t)}(e,r,g({},n,{userProps:t}))}),{})}};function y(e,n,t,r){e.findIndex((function(e){return e.pluginName===t}));n.forEach((function(n){e.findIndex((function(e){return e.pluginName===n}))})),r.forEach((function(n){e.findIndex((function(e){return e.pluginName===n}))}))}function b(e,n){return\"function\"===typeof e?e(n):e}function w(e){var n=f.a.useRef();return n.current=e,f.a.useCallback((function(){return n.current}),[])}\"undefined\"!==typeof document?f.a.useLayoutEffect:f.a.useEffect;function H(e,n){var t=w(e[n]);return e[n]=void 0,t}new Map;p.resetHiddenColumns=\"resetHiddenColumns\",p.toggleHideColumn=\"toggleHideColumn\",p.setHiddenColumns=\"setHiddenColumns\",p.toggleHideAllColumns=\"toggleHideAllColumns\";var R=function(e){e.getToggleHiddenProps=[S],e.getToggleHideAllColumnsProps=[A],e.stateReducers.push(x),e.useInstanceBeforeDimensions.push(E),e.headerGroupsDeps.push((function(e,n){var t=n.instance;return[].concat(e,[t.state.hiddenColumns])})),e.useInstance.push(P)};R.pluginName=\"useColumnVisibility\";var S=function(e,n){var t=n.column;return[e,{onChange:function(e){t.toggleHidden(!e.target.checked)},style:{cursor:\"pointer\"},checked:t.isVisible,title:\"Toggle Column Visible\"}]},A=function(e,n){var t=n.instance;return[e,{onChange:function(e){t.toggleHideAllColumns(!e.target.checked)},style:{cursor:\"pointer\"},checked:!t.allColumnsHidden&&!t.state.hiddenColumns.length,title:\"Toggle All Columns Hidden\",indeterminate:!t.allColumnsHidden&&t.state.hiddenColumns.length}]};function x(e,n,t,r){if(n.type===p.init)return g({hiddenColumns:[]},e);if(n.type===p.resetHiddenColumns)return g({},e,{hiddenColumns:r.initialState.hiddenColumns||[]});if(n.type===p.toggleHideColumn){var o=(\"undefined\"!==typeof n.value?n.value:!e.hiddenColumns.includes(n.columnId))?[].concat(e.hiddenColumns,[n.columnId]):e.hiddenColumns.filter((function(e){return e!==n.columnId}));return g({},e,{hiddenColumns:o})}return n.type===p.setHiddenColumns?g({},e,{hiddenColumns:b(n.value,e.hiddenColumns)}):n.type===p.toggleHideAllColumns?g({},e,{hiddenColumns:(\"undefined\"!==typeof n.value?n.value:!e.hiddenColumns.length)?r.flatColumns.map((function(e){return e.id})):[]}):void 0}function E(e){var n=e.headers,t=e.state.hiddenColumns;f.a.useRef(!1).current;var r=0;n.forEach((function(e){return r+=function e(n,r){n.isVisible=r&&!t.includes(n.id);var o=0;return n.headers&&n.headers.length?n.headers.forEach((function(t){return o+=e(t,n.isVisible)})):o=n.isVisible?1:0,n.totalVisibleHeaderCount=o,o}(e,!0)}))}function P(e){var n=e.flatHeaders,t=e.dispatch,r=e.flatColumns,o=e.state.hiddenColumns,u=w(e),i=r.length===o.length,l=f.a.useCallback((function(e,n){return t({type:p.toggleHideColumn,columnId:e,value:n})}),[t]),s=f.a.useCallback((function(e){return t({type:p.setHiddenColumns,value:e})}),[t]),a=f.a.useCallback((function(e){return t({type:p.toggleHideAllColumns,value:e})}),[t]),c=H(u().hooks,\"getToggleHideAllColumnsProps\"),d=C(c(),{instance:u()}),g=H(u().hooks,\"getToggleHiddenProps\");n.forEach((function(e){e.toggleHidden=function(n){t({type:p.toggleHideColumn,columnId:e.id,value:n})},e.getToggleHiddenProps=C(g(),{instance:u(),column:e})})),Object.assign(e,{allColumnsHidden:i,toggleHideColumn:l,setHiddenColumns:s,toggleHideAllColumns:a,getToggleHideAllColumnsProps:d})}p.toggleExpanded=\"toggleExpanded\",p.toggleAllExpanded=\"toggleAllExpanded\",p.setExpanded=\"setExpanded\",p.resetExpanded=\"resetExpanded\";var k=function(e,n,t){return e=e.filter((function(e){return n.some((function(n){var r=e.values[n];return String(r).toLowerCase().includes(String(t).toLowerCase())}))}))};k.autoRemove=function(e){return!e};var T=function(e,n,t){return e.filter((function(e){return n.some((function(n){var r=e.values[n];return void 0===r||String(r).toLowerCase()===String(t).toLowerCase()}))}))};T.autoRemove=function(e){return!e};var I=function(e,n,t){return e.filter((function(e){return n.some((function(n){var r=e.values[n];return void 0===r||String(r)===String(t)}))}))};I.autoRemove=function(e){return!e};var N=function(e,n,t){return e.filter((function(e){return n.some((function(n){var r=e.values[n];return t.includes(r)}))}))};N.autoRemove=function(e){return!e||!e.length};var B=function(e,n,t){return e.filter((function(e){return n.some((function(n){var r=e.values[n];return r&&r.length&&t.every((function(e){return r.includes(e)}))}))}))};B.autoRemove=function(e){return!e||!e.length};var F=function(e,n,t){return e.filter((function(e){return n.some((function(n){return e.values[n]===t}))}))};F.autoRemove=function(e){return\"undefined\"===typeof e};var O=function(e,n,t){return e.filter((function(e){return n.some((function(n){return e.values[n]==t}))}))};O.autoRemove=function(e){return null==e};var z=function(e,n,t){var r=t||[],o=r[0],u=r[1];if((o=\"number\"===typeof o?o:-1/0)>(u=\"number\"===typeof u?u:1/0)){var i=o;o=u,u=i}return e.filter((function(e){return n.some((function(n){var t=e.values[n];return t>=o&&t<=u}))}))};z.autoRemove=function(e){return!e||\"number\"!==typeof e[0]&&\"number\"!==typeof e[1]};p.resetFilters=\"resetFilters\",p.setFilter=\"setFilter\",p.setAllFilters=\"setAllFilters\";p.resetGlobalFilter=\"resetGlobalFilter\",p.setGlobalFilter=\"setGlobalFilter\";p.resetGroupBy=\"resetGroupBy\",p.toggleGroupBy=\"toggleGroupBy\";p.resetSortBy=\"resetSortBy\",p.toggleSortBy=\"toggleSortBy\",p.clearSortBy=\"clearSortBy\",h.sortType=\"alphanumeric\",h.sortDescFirst=!1;p.resetPage=\"resetPage\",p.gotoPage=\"gotoPage\",p.setPageSize=\"setPageSize\";p.resetSelectedRows=\"resetSelectedRows\",p.toggleAllRowsSelected=\"toggleAllRowsSelected\",p.toggleRowSelected=\"toggleRowSelected\";p.setRowState=\"setRowState\",p.resetRowState=\"resetRowState\";p.resetColumnOrder=\"resetColumnOrder\",p.setColumnOrder=\"setColumnOrder\";h.canResize=!0,p.columnStartResizing=\"columnStartResizing\",p.columnResizing=\"columnResizing\",p.columnDoneResizing=\"columnDoneResizing\";var G={position:\"absolute\",top:0},L=function(e){e.getTableBodyProps.push(j),e.getRowProps.push(j),e.getHeaderGroupProps.push(j),e.useInstance.push(D),e.getHeaderProps.push((function(e,n){var t=n.column;return[e,{style:g({},G,{left:t.totalLeft+\"px\",width:t.totalWidth+\"px\"})}]})),e.getCellProps.push((function(e,n){var t=n.cell;return[e,{style:g({},G,{left:t.column.totalLeft+\"px\",width:t.column.totalWidth+\"px\"})}]}))};L.pluginName=\"useAbsoluteLayout\";var j=function(e,n){return[e,{style:{position:\"relative\",width:n.instance.totalColumnsWidth+\"px\"}}]};function D(e){y(e.plugins,[],L.pluginName,[\"useResizeColumns\"])}var _=f.a.createElement;function V(){var e=Object(l.a)([\"\\n  margin: 5.5em auto;\\n\"]);return V=function(){return e},e}var W=c.a.div(V()),J=function(e,n){var t;return o.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:\"https://us-central1-teddybear-dev.cloudfunctions.net/api/staff/lineAuth\",t={userId:e,accessToken:n},fetch(\"https://us-central1-teddybear-dev.cloudfunctions.net/api/staff/lineAuth\",{method:\"post\",headers:{\"Content-Type\":\"application/json\"},body:i()(t)}).then((function(e){return e.json()})).then((function(e){if(e){alert(\"success\");var n=e.staff.ubn,t=e.staff.email,r=e.token.idToken;K(n,t,r)}else alert(\"lineAuth no result\")})).catch((function(e){alert(e.message)}));case 3:case\"end\":return r.stop()}}))},K=function(e,n,t){var r;return o.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:\"https://us-central1-teddybear-dev.cloudfunctions.net/api/leave/get\",r=\"https://us-central1-teddybear-dev.cloudfunctions.net/api/leave/get\"+\"?ubn=\".concat(e,\"&query=email&value=\").concat(n),fetch(r,{method:\"get\",headers:{Authorization:t}}).then((function(e){return e.text()})).then((function(e){e?alert(\"success\"):alert(\"getLeaves no result\")})).catch((function(e){alert(e.message)}));case 4:case\"end\":return o.stop()}}))};o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:liff.init((function(e){var n=e.context.userId,t=liff.getAccessToken(),r={userId:n};fetch(\"https://us-central1-teddybear-dev.cloudfunctions.net/api/staff/checkExist\",{method:\"post\",headers:{\"Content-Type\":\"application/json\"},body:i()(r)}).then((function(e){return e.text()})).then((function(e){e?(alert(n),alert(t),J(n,t)):(alert(\"\\u8acb\\u767b\\u5165\\u4ee5\\u67e5\\u770b\\u5047\\u55ae\"),window.location.replace(\"https://teddybear-dev.firebaseapp.com/signIn\"))}))}),(function(e){alert(\"error\")}));case 1:case\"end\":return e.stop()}}));n.default=function(){return _(W,null,_(a.a,null,_(\"script\",{src:\"https://d.line-scdn.net/liff/1.0/sdk.js\"})),_(\"div\",null))}}},[[\"CDRK\",1,0]]]);"}