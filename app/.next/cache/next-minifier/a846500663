{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{CDRK:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/viewLeave\",function(){return n(\"cty3\")}])},cty3:function(t,e,n){\"use strict\";n.r(e);var s=n(\"ln6h\"),c=n.n(s),a=n(\"9Jkg\"),o=n.n(a),r=n(\"q1tI\"),i=n.n(r),u=n(\"8Kt/\"),f=n.n(u),d=i.a.createElement,l=function(t,e){var n;return c.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:\"https://us-central1-teddybear-dev.cloudfunctions.net/api/staff/lineAuth\",n={userId:t,accessToken:e},fetch(\"https://us-central1-teddybear-dev.cloudfunctions.net/api/staff/lineAuth\",{method:\"post\",headers:{\"Content-Type\":\"application/json\"},body:o()(n)}).then((function(t){return t.text()})).then((function(t){if(t){alert(\"success\");t.staff.ubn,t.staff.email,t.token.idToken}else alert(\"lineAuth no result\")})).catch((function(t){alert(t.message)}));case 3:case\"end\":return s.stop()}}))};c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:liff.init((function(t){var e=t.context.userId,n=liff.getAccessToken(),s={userId:e};fetch(\"https://us-central1-teddybear-dev.cloudfunctions.net/api/staff/checkExist\",{method:\"post\",headers:{\"Content-Type\":\"application/json\"},body:o()(s)}).then((function(t){return t.text()})).then((function(t){t?(alert(e),alert(n),l(e,n)):(alert(\"\\u8acb\\u767b\\u5165\\u4ee5\\u67e5\\u770b\\u5047\\u55ae\"),window.location.replace(\"https://teddybear-dev.firebaseapp.com/signIn\"))}))}),(function(t){alert(\"error\")}));case 1:case\"end\":return t.stop()}}));e.default=function(){return d(f.a,null,d(\"script\",{src:\"https://d.line-scdn.net/liff/1.0/sdk.js\"}))}}},[[\"CDRK\",1,0]]]);"}